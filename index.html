<script>
    const apiKey = '54e5ec31-5bb0-459d-bf0e-3ae1047dad17';

    async function fetchCryptoPrices() {
        const url = `https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest?symbol=MUND&convert=USD`;
        const response = await fetch(url, {
            headers: {
                'X-CMC_PRO_API_KEY': apiKey,
                'Accept': 'application/json'
            }
        });
        const data = await response.json();
        const price = data.data.MUND.quote.USD.price;
        document.getElementById('price').textContent = price.toFixed(4);
    }

    fetchCryptoPrices();
    setInterval(fetchCryptoPrices, 60000);

    document.getElementById('sale-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const amount = parseFloat(document.getElementById('amount').value);
        if (amount >= 0.001) {
            alert(`Hai richiesto di acquistare ${amount} MUND. Apri il tuo wallet per completare la transazione.`);
            // Aici ar fi locul pentru conectarea cu MetaMask
        } else {
            alert('La quantità minima di MUND acquistabile è 0.001!');
        }
    });
</script>
